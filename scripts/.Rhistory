y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
smoothScatter(x, y,
xlab=i,
ylab=j,
xaxt = 'n',
yaxt = 'n',
cex.lab=2.25)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1, las=2, cex=1.8)
}
}
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n))
for (i in var_names){
x <- df[, i]
for (j in var_names){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
smoothScatter(x, y,
xlab=i,
ylab=j,
xaxt = 'n',
yaxt = 'n',
cex.lab=2.25)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1, las=2, cex=1.8)
}
}
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1))
for (i in var_names){
x <- df[, i]
for (j in var_names){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
smoothScatter(x, y,
xlab=i,
ylab=j,
xaxt = 'n',
yaxt = 'n',
cex.lab=2.25)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1, las=2, cex=1.8)
}
}
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1))
for (i in var_names){
x <- df[, i]
for (j in var_names){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
smoothScatter(x, y,
xlab=i,
ylab=j,
xaxt = 'n',
yaxt = 'n',
cex.lab=2.25)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1, las=2, cex=1.8)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1))
for (i in var_names){
x <- df[, i]
for (j in var_names){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
smoothScatter(x, y,
xlab=i,
ylab=j,
xaxt = 'n',
yaxt = 'n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
df
df[, 1]
var_names
var_names[1]
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1))
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
xaxt = 'n',
yaxt = 'n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(7,7,7,7)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
xaxt = 'n',
yaxt = 'n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(2,2,2,2)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
xaxt = 'n',
yaxt = 'n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(2,2,2,2)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
xaxt = 'n',
yaxt = 'n',
cex.lab = 2)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
make_smooth_plot <- function(df, go_vars, stop_vars) {
png('../data/08_reporting/rdex_intercorrelations.png',
units='in',
width=16,
height=4,
res=300)
# pdf('../data/08_reporting/rdex_intercorrelations.pdf',
#     width=16,
#     height=4)
dims = c(.25,.7,.3,.9)
# par(mfrow = c(4, 4), pty='s', plt=dims, mar=dims, oma=c(4, 3, 3, 3))
# par(mfrow = c(1, 4), pty='s', plt=dims, mar=dims+4, oma=c(4, 3, 3, 3))
par(mfrow = c(4, 4), pty='s', mar=dims)
for (g in names(go_vars[1:4])) {
for (s in names(stop_vars[1:4])) {
y <- df[, g]
x <- df[, s]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
if (s == names(stop_vars)[[1]]) {
ylabel = unname(unlist(go_vars[g]))
} else {
ylabel = ''
}
if (g == rev(names(go_vars))[1]) {
xlabel = unname(unlist(stop_vars[s]))
} else {
xlabel = ''
}
smoothScatter(x, y,
xlab=xlabel,
ylab=ylabel,
xaxt = 'n',
yaxt = 'n',
cex.lab=2.25)
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=4, line=1, las=2, cex=1.8)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
yaxt='n',
xaxt='n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(1,1,1,1)+.1)
for (i in 1:length(var_names[1:4])){
x <- df[, i]
for (j in 1:length(var_names[1:4])){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
yaxt='n',
xaxt='n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(4,4,4,4)+.1)
for (i in 1:length(var_names[1:4])){
x <- df[, i]
for (j in 1:length(var_names[1:4])){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
yaxt='n',
xaxt='n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(4,4,4,4)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=xlab,
ylab=ylab,
yaxt='n',
xaxt='n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
png('../data/08_reporting/rdex_intercorrelations_all.png',
units='in',
width=16,
height=16,
res=300)
var_names = names(df)
n = length(var_names)
par(mfrow = c(n,n), mar=c(4,4,4,4)+.1)
for (i in 1:length(var_names)){
x <- df[, i]
for (j in 1:length(var_names)){
y <- df[, j]
r <- cor(x, y)
model <- lm(y~x)
title <- paste0("r = ", round(r, 2))
xlab <- NULL
ylab <- NULL
if (i > 1){
ylab <- var_names[j]
}
if (j > 1){
xlab <- var_names[i]
}
smoothScatter(x, y,
xlab=var_names[i],
ylab=var_names[j],
yaxt='n',
xaxt='n')
abline(model)
axis(side=4, yaxt = 'n')
mtext(title, side=1, line=1)
}
}
dev.off()
library(dplyr)
library(ggplot2)
library(GGally)
source("../scripts/make_smooth_plots.R")
df <- load_data()
head(df)
df <- df %>%
select(-c(subjectkey, tf.natural, gf.natural, issrt))
head(df)
df %>%
tidyr::crossing()
df %>%
setNames(paste0(names(.), '_2')) %>%
tidyr::crossing()
df %>%
setNames(paste0(names(.), '_2')) %>%
tidyr::crossing() %>%
cbind(df)
